<form [formGroup]="reservationForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="no_of_adults">Number of adults:</label>
    <input
      id="no_of_adults"
      type="number"
      formControlName="no_of_adults"
      [min]="1"
      required
    />
    <div *ngIf="reservationForm.get('no_of_adults')?.invalid && reservationForm.get('no_of_adults')?.touched">
      <small *ngIf="reservationForm.get('no_of_adults')?.errors?.['required']">
        The number of adults is required.
      </small>
      <small *ngIf="reservationForm.get('no_of_adults')?.errors?.['min']">
        The number of adults must be at least 1.
      </small>
    </div>
  </div>

  <div>
    <label for="no_of_children">Number of children:</label>
    <input
      id="no_of_children"
      type="number"
      formControlName="no_of_children"
      [min]="0"
    />
    <div *ngIf="reservationForm.get('no_of_children')?.invalid && reservationForm.get('no_of_children')?.touched">
      <small *ngIf="reservationForm.get('no_of_children')?.errors?.['min']">
        The number of children cannot be negative.
      </small>
    </div>
  </div>

  <div>
    <label for="meal_plan">Meal plan:</label>
    <select id="meal_plan" formControlName="meal_plan" required>
      <option value="" disabled selected>Select a meal plan</option>
      <option value="Meal Plan 1">Meal Plan 1</option>
      <option value="Meal Plan 2">Meal Plan 2</option>
      <option value="Not Selected">Not Selected</option>
    </select>
    <div *ngIf="reservationForm.get('meal_plan')?.invalid && reservationForm.get('meal_plan')?.touched">
      <small>Please select a meal plan.</small>
    </div>
  </div>

  <div>
    <label for="car_parking_space">Parking space:</label>
    <select id="car_parking_space" formControlName="car_parking_space" required>
      <option value="" disabled selected>Parking space</option>
      <option value="Y">Yes</option>
      <option value="N">No</option>
    </select>
    <div *ngIf="reservationForm.get('car_parking_space')?.invalid && reservationForm.get('car_parking_space')?.touched">
      <small *ngIf="reservationForm.get('car_parking_space')?.errors?.['pattern']">
        Invalid value. Choose "Yes" (Y) or "No" (N).
      </small>
    </div>
  </div>

  <div>
    <label for="booking_date">Booking date:</label>
    <input
      id="booking_date"
      type="date"
      formControlName="booking_date"
      [min]="minDate"
      required
    />
    <div *ngIf="reservationForm.get('booking_date')?.invalid && reservationForm.get('booking_date')?.touched">
      <small>Please select a valid date.</small>
    </div>
  </div>

  <div>
    <label for="no_of_nights">Number of nights:</label>
    <input
      id="no_of_nights"
      type="number"
      formControlName="no_of_nights"
      [min]="1"
      required
    />
    <div *ngIf="reservationForm.get('no_of_nights')?.invalid && reservationForm.get('no_of_nights')?.touched">
      <small *ngIf="reservationForm.get('no_of_nights')?.errors?.['required']">
        The number of nights is required.
      </small>
      <small *ngIf="reservationForm.get('no_of_nights')?.errors?.['min']">
        The number of nights must be at least 1.
      </small>
    </div>
  </div>

  <div>
    <label for="room_type">Room type:</label>
    <select id="room_type" formControlName="room_type" required>
      <option value="" disabled selected>-- Select --</option>
      <option value="Single">Single</option>
      <option value="Double">Double</option>
      <option value="Suite">Suite</option>
      <option value="Family">Family</option>
      <option value="Luxurious">Luxurious</option>
      <option value="Penthouse">Penthouse</option>
    </select>
    <small *ngIf="reservationForm.get('room_type')?.errors?.['required']">Please select a room type.</small>
  </div>

  <button type="submit" [disabled]="reservationForm.invalid">Book</button>
</form>

<div *ngIf="showModal" class="modal-overlay" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>{{ modalMessage }}</h2>
    <button class="close-btn" (click)="closeModal()">Close</button>
  </div>
</div>
